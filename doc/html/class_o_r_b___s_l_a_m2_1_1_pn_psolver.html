<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Os1: ORB_SLAM2::PnPsolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Os1
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">OrbSlam2 documentado y modificado</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,'Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_o_r_b___s_l_a_m2_1_1_pn_psolver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_o_r_b___s_l_a_m2_1_1_pn_psolver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ORB_SLAM2::PnPsolver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Solucionador Point n-Points EPnP.  
 <a href="class_o_r_b___s_l_a_m2_1_1_pn_psolver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_pn_psolver_8h_source.html">PnPsolver.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7b4cad992a43620e027bfb4bc9ef24f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_b___s_l_a_m2_1_1_pn_psolver.html#a7b4cad992a43620e027bfb4bc9ef24f8">PnPsolver</a> (const <a class="el" href="class_o_r_b___s_l_a_m2_1_1_frame.html">Frame</a> &amp;F, const vector&lt; <a class="el" href="class_o_r_b___s_l_a_m2_1_1_map_point.html">MapPoint</a> *&gt; &amp;vpMapPointMatches)</td></tr>
<tr class="separator:a7b4cad992a43620e027bfb4bc9ef24f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad40b921779ed92bfb6b017a76e4d88aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_b___s_l_a_m2_1_1_pn_psolver.html#ad40b921779ed92bfb6b017a76e4d88aa">~PnPsolver</a> ()</td></tr>
<tr class="memdesc:ad40b921779ed92bfb6b017a76e4d88aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor por defecto.  <a href="#ad40b921779ed92bfb6b017a76e4d88aa">More...</a><br /></td></tr>
<tr class="separator:ad40b921779ed92bfb6b017a76e4d88aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adff29377dcc77891a33113080b6b1eb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_b___s_l_a_m2_1_1_pn_psolver.html#adff29377dcc77891a33113080b6b1eb7">SetRansacParameters</a> (double probability=0.99, int minInliers=8, int maxIterations=300, int minSet=4, float epsilon=0.4, float th2=5.991)</td></tr>
<tr class="memdesc:adff29377dcc77891a33113080b6b1eb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ajusta los parámetros de Ransac.  <a href="#adff29377dcc77891a33113080b6b1eb7">More...</a><br /></td></tr>
<tr class="separator:adff29377dcc77891a33113080b6b1eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784429037a79cb53923f4db181a4d115"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_b___s_l_a_m2_1_1_pn_psolver.html#a784429037a79cb53923f4db181a4d115">find</a> (vector&lt; bool &gt; &amp;vbInliers, int &amp;nInliers)</td></tr>
<tr class="memdesc:a784429037a79cb53923f4db181a4d115"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ejecuta el número máximo de iteraciones Ransac.  <a href="#a784429037a79cb53923f4db181a4d115">More...</a><br /></td></tr>
<tr class="separator:a784429037a79cb53923f4db181a4d115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbef2ac776747661112246e85667f452"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_b___s_l_a_m2_1_1_pn_psolver.html#abbef2ac776747661112246e85667f452">iterate</a> (int nIterations, bool &amp;bNoMore, vector&lt; bool &gt; &amp;vbInliers, int &amp;nInliers)</td></tr>
<tr class="memdesc:abbef2ac776747661112246e85667f452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ejecuta n iteraciones de Ransac.  <a href="#abbef2ac776747661112246e85667f452">More...</a><br /></td></tr>
<tr class="separator:abbef2ac776747661112246e85667f452"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Solucionador Point n-Points EPnP. </p>
<p>Utiliza RANSAC para buscar la pose de un keyframe que mejor explican una serie de puntos observados, de posición conocida en el mapa.</p>
<p>Esta clase se instancia repetidas veces solamente en Tracring::Relocalisation(), este este contexto: Se evalúan varios keyframes candidatos, que obsevan presumiblemente los mismos puntos observados por el frame actual. Para cada uno se correlacionan los puntos observados con BoW, del keyframe candidato se obtienen sus correspondientes coordenadas 3D, y se ejecuta el solucionador para conseguir la pose que mejor explica la observación, </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7b4cad992a43620e027bfb4bc9ef24f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORB_SLAM2::PnPsolver::PnPsolver </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_r_b___s_l_a_m2_1_1_frame.html">Frame</a> &amp;&#160;</td>
          <td class="paramname"><em>F</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; <a class="el" href="class_o_r_b___s_l_a_m2_1_1_map_point.html">MapPoint</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>vpMapPointMatches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad40b921779ed92bfb6b017a76e4d88aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ORB_SLAM2::PnPsolver::~PnPsolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor por defecto. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a784429037a79cb53923f4db181a4d115"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat ORB_SLAM2::PnPsolver::find </td>
          <td>(</td>
          <td class="paramtype">vector&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>vbInliers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>nInliers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ejecuta el número máximo de iteraciones Ransac. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vbInliers</td><td>Resultado, marca la posición de los elementos inliers encontrados. </td></tr>
    <tr><td class="paramname">nInliers</td><td>Restulado, cantidad de inliers encontrados. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pose de la relocalización, o una matriz vacía si no falla.</dd></dl>
<p>No utilizado en orb-slam2. En su lugar se usa <a class="el" href="class_o_r_b___s_l_a_m2_1_1_pn_psolver.html#abbef2ac776747661112246e85667f452" title="Ejecuta n iteraciones de Ransac. ">PnPsolver::iterate</a>. </p>

</div>
</div>
<a id="abbef2ac776747661112246e85667f452"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat ORB_SLAM2::PnPsolver::iterate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nIterations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>bNoMore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>vbInliers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>nInliers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ejecuta n iteraciones de Ransac. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nIterations</td><td>Cantidad de iteraciones a ejecutar. Termina antes si se alcanza PnPsolver::mRansacMaxIts en total. </td></tr>
    <tr><td class="paramname">bNoMore</td><td>Resultado, señal que indica que se alcanzaron las PnPsolver::mRansacMaxIts iteraciones en total. </td></tr>
    <tr><td class="paramname">vbInliers</td><td>Resultado, marca la posición de los elementos inliers encontrados. </td></tr>
    <tr><td class="paramname">nInliers</td><td>Restulado, cantidad de inliers encontrados. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pose de la relocalización, o una matriz vacía si no falla.</dd></dl>
<p>Usado sólo en <a class="el" href="class_o_r_b___s_l_a_m2_1_1_tracking.html#acd4ea9e7097bed16428a4b78fe4b6a67" title="Dispara una relocalización. ">Tracking::Relocalization</a>. También se invoca desde el método no utilizado find. </p>

</div>
</div>
<a id="adff29377dcc77891a33113080b6b1eb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ORB_SLAM2::PnPsolver::SetRansacParameters </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>probability</em> = <code>0.99</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minInliers</em> = <code>8</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxIterations</em> = <code>300</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minSet</em> = <code>4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>0.4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>th2</em> = <code>5.991</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ajusta los parámetros de Ransac. </p>
<p>Todos los parámetros tienen un valor por defecto, aunque orb-slam2 no los usa.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">probability</td><td>Mínima probablidad de acierto aceptada. Este valor se registra en PnPsolver::mRansacProb </td></tr>
    <tr><td class="paramname">minInliers</td><td>Mínima cantidad de inliers aceptados. Este valor se registra en PnPsolver::mRansacMinInliers </td></tr>
    <tr><td class="paramname">maxIterations</td><td>Máxima cantidad de iteraciones permitidas para encontrar la solución. Si la alcanza, desiste. Este valor se registra en PnPsolver::mRansacMaxIts </td></tr>
    <tr><td class="paramname">minSet</td><td>Cantidad mínima de puntos a considerar en cada iteración. Este valor se registra en PnPsolver::mRansacMinSet </td></tr>
    <tr><td class="paramname">epsilon</td><td>Este valor se registra en PnPsolver::mRansacEpsilon </td></tr>
    <tr><td class="paramname">th2</td><td>Umbral al caudrado.</td></tr>
  </table>
  </dd>
</dl>
<p>Invocado con parámetros por defecto por el constructor de <a class="el" href="class_o_r_b___s_l_a_m2_1_1_pn_psolver.html" title="Solucionador Point n-Points EPnP. ">PnPsolver</a>, y por <a class="el" href="class_o_r_b___s_l_a_m2_1_1_tracking.html#acd4ea9e7097bed16428a4b78fe4b6a67" title="Dispara una relocalización. ">Tracking::Relocalization</a> con parámetros ad hoc.</p>
<p>En orb-slam2 toda vez que se construye una instancia, se invoca dos veces consecutivas este método: primero en el constuctor con valores por defecto, e inmediatamente después con parámetros ad hoc. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/alejandro/Desarrollo eclipse/os1/include/<a class="el" href="_pn_psolver_8h_source.html">PnPsolver.h</a></li>
<li>/home/alejandro/Desarrollo eclipse/os1/src/<a class="el" href="_pn_psolver_8cc.html">PnPsolver.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_o_r_b___s_l_a_m2.html">ORB_SLAM2</a></li><li class="navelem"><a class="el" href="class_o_r_b___s_l_a_m2_1_1_pn_psolver.html">PnPsolver</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
